apiVersion: v1
kind: ConfigMap
metadata:
  name: osvbng-config-template
data:
  osvbng.yaml.template: |
    # Auto-generated by osvbngd v0.0.3
    # Do not edit this header
    logging:
        format: text
        level: info
        components:
            aaad: info
            arpd: info
            dpd: info
            ipoed: info
            subd: info
    subscriber-groups:
        groups:
            default:
                vlans:
                    - svlan: "100"
                      cvlan: any
                      interface: loop100
                address-pools:
                    - name: subscriber-pool
                      network: 10.255.0.0/16
                      gateway: 10.255.0.1
                      dns:
                        - 8.8.8.8
                        - 8.8.4.4
                      priority: 1
                dhcp:
                    auto-generate: true
                    lease-time: "3600"
                bgp:
                    enabled: true
                    advertise-pools: true
                    redistribute-connected: true
                aaa-policy: default-policy
    dhcp:
        provider: local
    interfaces:
        __OSVBNG_ACCESS_INTERFACE__:
            name: __OSVBNG_ACCESS_INTERFACE__
            description: Access Interface
            enabled: true
            bng_mode: access
        loop100:
            name: loop100
            description: Subscriber Gateway Loopback
            enabled: true
            address:
                ipv4:
                    - 10.255.0.1/32
            lcp: true
    protocols:
        bgp:
            asn: 65000
            router-id: 10.255.0.1
    aaa:
        provider: local
        nas_identifier: osvbng
        policy:
            - name: default-policy
              format: $mac-address$
              type: dhcp
              max_concurrent_sessions: 1
    plugins:
        exporter.prometheus:
            enabled: false
            listen_address: :9090
        northbound.api:
            enabled: true
            listen_address: :8080
        subscriber.auth.local:
            allow_all: true
            database_path: /tmp/osvbng.db